(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[4],{62:function(e,t,r){e.exports={orders:"OrderList_orders__35uvZ","orders-appear":"OrderList_orders-appear__2R1E8"}},63:function(e,t,r){e.exports={order:"Order_order__1T5N8",address:"Order_address__2t9e-",price:"Order_price__3Bvfy"}},64:function(e,t,r){e.exports={summary:"OrderSummary_summary__Q1IBy"}},67:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),s=r(9),i=r(3),a=r(7),d=r.n(a),j=r(27),o=r(62),u=r.n(o),l=r(63),O=r.n(l),b=r(0),h=function(e){var t=e.items,r=Object(c.useState)(!1),s=Object(i.a)(r,2),a=s[0],d=s[1],j=0,o=0;for(var u in t)j+=t[u].itemPrice*t[u].itemQuantity,o+=t[u].itemQuantity;var l=t.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.itemId}),Object(b.jsx)("td",{children:e.itemName}),Object(b.jsx)("td",{children:e.itemPrice}),Object(b.jsx)("td",{children:e.itemQuantity}),Object(b.jsx)("td",{children:e.itemPrice*e.itemQuantity})]},e.itemId)}));return Object(b.jsxs)(n.a.Fragment,{children:[Object(b.jsxs)("li",{className:O.a.order,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:e.name}),Object(b.jsx)("div",{className:O.a.address,children:e.street}),Object(b.jsxs)("h4",{children:["Total Quantity: ",Object(b.jsx)("span",{children:o})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:O.a.price,children:["$",j.toFixed(2)]}),Object(b.jsxs)("button",{onClick:function(){d(!a)},children:[a?"Hide":"Show"," Items"]})]})]}),a&&Object(b.jsx)("div",{children:Object(b.jsxs)("table",{className:O.a.table,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Item ID"}),Object(b.jsx)("th",{children:"Title"}),Object(b.jsx)("th",{children:"Price"}),Object(b.jsx)("th",{children:"Quantity"}),Object(b.jsx)("th",{children:"Total Price"})]})}),Object(b.jsx)("tbody",{children:l})]})})]})},m=r(5),x=r(17),p=function(){var e=Object(m.b)(),t=Object(c.useState)([]),r=Object(i.a)(t,2),n=r[0],a=r[1],o=Object(c.useState)(null),l=Object(i.a)(o,2),O=l[0],p=l[1],f=Object(c.useState)(!1),y=Object(i.a)(f,2),v=y[0],_=y[1];Object(c.useEffect)((function(){function t(){return(t=Object(s.a)(d.a.mark((function t(){var r,c,n,s,i,j;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(null),_(!0),t.prev=2,t.next=5,fetch("https://react-http-597d3-default-rtdb.firebaseio.com/orders.json");case 5:if((r=t.sent).ok){t.next=8;break}throw new Error("Something went wrong");case 8:return t.next=10,r.json();case 10:for(s in c=t.sent,n=[],c){for(j in i=[],c[s].orderData)i.push({itemId:j,itemName:c[s].orderData[j].title,itemPrice:c[s].orderData[j].price,itemQuantity:c[s].orderData[j].quantity});e(x.a.calculateOrderSummary({totalQuantity:c[s].totalOrderedQuantity,totalPrice:c[s].totalOrderedPrice})),n.push({id:s,name:c[s].userData.name,street:c[s].userData.street,items:i})}a(n),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),p(t.t0.message);case 19:_(!1);case 20:case"end":return t.stop()}}),t,null,[[2,16]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var Q=n.map((function(e){return Object(b.jsx)(h,{id:e.id,name:e.name,street:e.street,items:e.items},e.id)})),P=Object(b.jsx)("p",{children:"Found no meals."});return Q.length>0&&(P=Q),O&&(P=Object(b.jsx)("p",{children:O})),v&&(P=Object(b.jsx)("p",{children:"Loading..."})),Object(b.jsx)("section",{className:u.a.orders,children:Object(b.jsx)(j.a,{children:P})})},f=r(64),y=r.n(f),v=function(){var e=Object(m.c)((function(e){return e.auth.totalOrderedPrice})),t=Object(m.c)((function(e){return e.auth.totalOrderedQuantity}));return Object(b.jsxs)("section",{className:y.a.summary,children:[Object(b.jsxs)("h2",{children:["Total Ordered Price: ",e.toFixed(2)]}),Object(b.jsxs)("h2",{children:["Total Ordered Quantity: ",t]})]})},_=function(){return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)(v,{}),Object(b.jsx)(p,{})]})};t.default=function(){return Object(b.jsx)(_,{})}}}]);
//# sourceMappingURL=4.5f7446f5.chunk.js.map